# –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –ò–ë

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê

–¢–µ–∫—É—â–∏–π –∫–æ–¥ **–Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –∏–∑ `SECURITY_IB_NOTES.md` (—Å—Ç—Ä–æ–∫–∏ 70-71):

> "–í–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö –∏—Å—Ö–æ–¥–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `deploy_monitoring_script.sh` **–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç curl –Ω–∞–ø—Ä—è–º—É—é**:
>  –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏ —Å –∂—ë—Å—Ç–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ whitelists."

–¢–µ–∫—É—â–∏–π –∫–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç `curl` –ù–ê–ü–†–Ø–ú–£–Æ –¥–ª—è Grafana API - —ç—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ!

## ‚úÖ –†–ï–®–ï–ù–ò–ï

–ó–∞–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ `create_service_account_via_api` –∏ `create_token_via_api` –Ω–∞ –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ `grafana_wrapper.sh`.

## üîß –ß–¢–û –î–ï–õ–ê–¢–¨

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º–µ–Ω–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

```bash
# 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª
cp deploy_monitoring_script.sh deploy_monitoring_script.sh.backup

# 2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 2193-3151)
sed -i '2193,3151d' deploy_monitoring_script.sh

# 3. –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏ 2193
# (–∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ deploy_monitoring_NEW.sh)
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –∑–∞–º–µ–Ω–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `deploy_monitoring_script.sh`
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 2193: `create_service_account_via_api() {`
3. –£–¥–∞–ª–∏—Ç–µ –í–°–Å –¥–æ —Å—Ç—Ä–æ–∫–∏ 3151 (–≤–∫–ª—é—á–∞—è `create_token_via_api`)
4. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ —Ñ–∞–π–ª–∞ `deploy_monitoring_NEW.sh`

## üìã –ù–û–í–´–ï –§–£–ù–ö–¶–ò–ò

–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–≤ —Ñ–∞–π–ª–µ `deploy_monitoring_NEW.sh`):
- **137 —Å—Ç—Ä–æ–∫** –≤–º–µ—Å—Ç–æ 960 —Å—Ç—Ä–æ–∫
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç `grafana_wrapper.sh` (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ò–ë)
- –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–º —Ä–∞–±–æ—á–µ–º –∫–æ–¥–µ
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ DEBUG –ª–æ–≥–∞ (DEBUG –ª–æ–≥ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

##  ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

1. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º –ò–ë** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±—ë—Ä—Ç–∫–∏
2. **–ü—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ** - 137 —Å—Ç—Ä–æ–∫ –≤–º–µ—Å—Ç–æ 960
3. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –≤–∞—à–µ–º —Ä–∞–±–æ—á–µ–º —Å—Ç–∞—Ä–æ–º –∫–æ–¥–µ
4. **–ù–µ—Ç –ø—Ä—è–º—ã—Ö curl** - –≤—Å—è –ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ wrapper

## üöÄ –ó–ê–ü–£–°–ö –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

–ü–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–π, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ. Service Account –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ —á–µ—Ä–µ–∑ wrapper!

